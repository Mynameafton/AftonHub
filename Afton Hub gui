-- สร้าง ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "MyGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- ปุ่มเปิด/ปิด GUI
local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 100, 0, 30)
toggleButton.Position = UDim2.new(0, 10, 0, 10)
toggleButton.Text = "Show GUI"
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
toggleButton.TextScaled = true
toggleButton.Font = Enum.Font.GothamBold
toggleButton.Parent = screenGui

-- สร้างหน้าต่าง GUI หลัก
local background = Instance.new("Frame")
background.Size = UDim2.new(0, 300, 0, 250)
background.Position = UDim2.new(0.5, -150, 0.5, -125)
background.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
background.Active = true
background.Draggable = true
background.Visible = false
background.Parent = screenGui

-- หัวข้อ
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "MY NAME AFTON"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextScaled = true
title.Font = Enum.Font.GothamBold
title.Parent = background

-- ช่องกรอก Speed
local speedBox = Instance.new("TextBox")
speedBox.PlaceholderText = "Enter Speed"
speedBox.Size = UDim2.new(0.8, 0, 0, 40)
speedBox.Position = UDim2.new(0.1, 0, 0.25, 0)
speedBox.Text = ""
speedBox.Font = Enum.Font.Gotham
speedBox.TextScaled = true
speedBox.ClearTextOnFocus = false
speedBox.Parent = background

-- ปุ่มปรับ Speed
local speedBtn = Instance.new("TextButton")
speedBtn.Text = "Set Speed"
speedBtn.Size = UDim2.new(0.8, 0, 0, 30)
speedBtn.Position = UDim2.new(0.1, 0, 0.42, 0)
speedBtn.Font = Enum.Font.GothamBold
speedBtn.TextScaled = true
speedBtn.Parent = background

-- ช่องกรอก JumpPower
local jumpBox = Instance.new("TextBox")
jumpBox.PlaceholderText = "Enter JumpPower"
jumpBox.Size = UDim2.new(0.8, 0, 0, 40)
jumpBox.Position = UDim2.new(0.1, 0, 0.58, 0)
jumpBox.Text = ""
jumpBox.Font = Enum.Font.Gotham
jumpBox.TextScaled = true
jumpBox.ClearTextOnFocus = false
jumpBox.Parent = background

-- ปุ่มปรับ JumpPower
local jumpBtn = Instance.new("TextButton")
jumpBtn.Text = "Set Jump"
jumpBtn.Size = UDim2.new(0.8, 0, 0, 30)
jumpBtn.Position = UDim2.new(0.1, 0, 0.75, 0)
jumpBtn.Font = Enum.Font.GothamBold
jumpBtn.TextScaled = true
jumpBtn.Parent = background

-- ปุ่ม Infinite Jump
local infJumpBtn = Instance.new("TextButton")
infJumpBtn.Text = "Infinite Jump"
infJumpBtn.Size = UDim2.new(0.8, 0, 0, 30)
infJumpBtn.Position = UDim2.new(0.1, 0, 1.0, -30)
infJumpBtn.Font = Enum.Font.GothamBold
infJumpBtn.TextScaled = true
infJumpBtn.Parent = background

-- ฟังก์ชั่นสำหรับ Infinite Jump
local infiniteJumpEnabled = false

-- ติดตามการกระโดดของตัวละคร
local function onJumpRequest()
    if infiniteJumpEnabled then
        local humanoid = game.Players.LocalPlayer.Character:FindFirstChild("Humanoid")
        if humanoid and humanoid:GetState() == Enum.HumanoidStateType.Physics then
            humanoid:ChangeState(Enum.HumanoidStateType.Physics)
            humanoid.Jump = true
        end
    end
end

-- เชื่อมโยงกับปุ่ม Infinite Jump
infJumpBtn.MouseButton1Click:Connect(function()
    infiniteJumpEnabled = not infiniteJumpEnabled
    infJumpBtn.Text = infiniteJumpEnabled and "Disable Jump" or "Infinite Jump"
    if infiniteJumpEnabled then
        -- เปิดใช้งาน Infinite Jump
        game:GetService("UserInputService").JumpRequest:Connect(onJumpRequest)
    else
        -- ปิดการใช้งาน Infinite Jump
        game:GetService("UserInputService").JumpRequest:Disconnect(onJumpRequest)
    end
end)

-- ทำงานปุ่ม Speed
speedBtn.MouseButton1Click:Connect(function()
	local speed = tonumber(speedBox.Text)
	if speed and game.Players.LocalPlayer.Character then
		game.Players.LocalPlayer.Character:WaitForChild("Humanoid").WalkSpeed = speed
	end
end)

-- ทำงานปุ่ม Jump
jumpBtn.MouseButton1Click:Connect(function()
	local jump = tonumber(jumpBox.Text)
	if jump and game.Players.LocalPlayer.Character then
		local humanoid = game.Players.LocalPlayer.Character:WaitForChild("Humanoid")
		humanoid.UseJumpPower = true
		humanoid.JumpPower = jump
	end
end)

-- เปิด/ปิด GUI
local guiVisible = false
toggleButton.MouseButton1Click:Connect(function()
	guiVisible = not guiVisible
	background.Visible = guiVisible
	toggleButton.Text = guiVisible and "Hide GUI" or "Show GUI"
end)
